(this.webpackJsonpcontinuum_view=this.webpackJsonpcontinuum_view||[]).push([[0],{266:function(e,t,a){"use strict";a.r(t);var r=a(0),n=a(20),s=a.n(n),i=a(8),c=a(11),o=a.n(c),l=a(15),u=a(26),d=a(21),p=a(295),b=a(297),j=a(298),h=a(2),m=Object(j.a)({buttonRoot:{color:"blue",backgroundColor:"rgba(132, 219, 183, 0.86)","&:hover":{backgroundColor:"rgba(67, 208, 86, 0.80)",color:"rgb(0, 0, 0)"}}}),g=function(e){var t=e.isLoading,a=e.children,r=e.type,n=(e.color,m());return Object(h.jsx)(p.a,{variant:"contained",color:"success",type:r,classes:{root:n.buttonRoot,outlined:n.outline},children:t?Object(h.jsx)(b.a,{}):a})},x=a(299),f=a(310),O=a(311),v=a(312),y=a(131),C=a.n(y),w=a(132),S=a.n(w),N=Object(j.a)({inputRoot:{maxWidth:"100%",border:"1px solid",borderRadius:15,backgroundColor:"rgba(237, 237, 237, 0.5)",paddingLeft:10},inputLabel:{paddingLeft:20}}),W=function(e){var t=e.id,a=e.name,n=e.value,s=e.error,c=e.errorMessage,o=e.label,l=e.onChange,u=e.type,d=r.useState(n),p=Object(i.a)(d,2),b=p[0],j=p[1],m=N(),g=null;"loginPassword"===a||"registerPassword"===a?g=Object(h.jsx)(C.a,{}):"loginUsername"!==a&&"registerUsername"!==a||(g=Object(h.jsx)(S.a,{}));return Object(h.jsxs)(x.a,{children:[void 0!==o?Object(h.jsx)(f.a,{classes:{root:m.inputLabel},children:o}):null,Object(h.jsx)(O.a,{classes:{root:m.inputRoot,input:m.input},autoComplete:"off",id:t,name:a,value:b,error:s,variant:"outlined",onChange:function(e){j(e.target.value),l(e)},type:u||"string",startAdornment:Object(h.jsx)(v.a,{position:"start",children:g}),disableUnderline:!0}),s?Object(h.jsx)("div",{style:{color:"red"},children:c}):null]})},U=a(14),P=a.n(U),k=function(e){try{localStorage.setItem("auth",e)}catch(t){throw t}},L=function(){var e=localStorage.getItem("auth");return JSON.stringify(e)};P.a.defaults.baseURL="http://localhost:8080",P.a.defaults.headers.post["Content-Type"]="application/json";var R=function(){var e=Object(l.a)(o.a.mark((function e(t){var a,r,n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.loginUsername,r=t.loginPassword,e.prev=1,e.next=4,P.a.post("/api/auth/login",{username:a,password:r});case 4:return n=e.sent,k(n.data.token),e.abrupt("return",n);case 9:throw e.prev=9,e.t0=e.catch(1),e.t0.response;case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t){return e.apply(this,arguments)}}(),T={loginUsername:"",loginPassword:""},F=Object(d.a)().shape({loginUsername:Object(d.b)().required("Username is a required field"),loginPassword:Object(d.b)().required("Password is a required field")}),A=Object(j.a)({buttonWrapper:{padding:"20px 0px 20px 5px"},loginUsernameInput:{padding:"20px 0px"}}),I=function(e){var t=e.setAuth,a=e.customStyles,n=r.useState(!1),s=Object(i.a)(n,2),c=s[0],d=s[1],p=r.useState(!1),b=Object(i.a)(p,2),j=b[0],m=b[1],x=r.useState(""),f=Object(i.a)(x,2),O=f[0],v=f[1],y=r.useState(!1),C=Object(i.a)(y,2),w=C[0],S=C[1],N=r.useState(""),U=Object(i.a)(N,2),P=U[0],k=U[1],I=A(),q=function(){var e=Object(l.a)(o.a.mark((function e(a){var r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return S(!1),k(""),m(!1),v(""),d(!0),e.prev=5,e.next=8,R(a);case 8:200===e.sent.status&&t((function(){return L()})),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(5),(r=e.t0.data).message==="username ".concat(a.loginUsername," not found")?(m(!0),v(r.message)):"Incorrect password"===r.message&&(S(!0),k(r.message));case 16:return e.prev=16,d(!1),e.finish(16);case 19:case"end":return e.stop()}}),e,null,[[5,12,16,19]])})));return function(t){return e.apply(this,arguments)}}();return Object(h.jsx)(u.b,{initialValues:T,validationSchema:F,onSubmit:q,enableReinitialize:!0,children:function(e){return Object(h.jsxs)(u.a,{onSubmit:e.handleSubmit,children:[Object(h.jsx)("div",{className:I.loginUsernameInput,children:Object(h.jsx)(W,{id:"loginUsername",name:"loginUsername",value:e.values.loginUsername,label:"Username",error:j,errorMessage:O,onChange:e.handleChange,customStyles:a})}),Object(h.jsx)("div",{children:Object(h.jsx)(W,{id:"loginPassword",name:"loginPassword",type:"password",value:e.values.loginPassword,label:"Password",error:w,errorMessage:P,onChange:e.handleChange})}),Object(h.jsx)("div",{className:I.buttonWrapper,children:Object(h.jsx)(g,{isLoading:c,type:"submit",children:"submit"})})]})}})},q=Object(j.a)({loginFormPageContainer:{maxWidth:300,padding:20},loginTextContainer:{padding:"20px 0px 20px 5px",textAlign:"center"}}),D=function(e){var t=e.setAuth,a=e.customStyles,r=q();return Object(h.jsxs)("div",{className:r.loginFormPageContainer,children:[Object(h.jsx)("div",{className:r.loginTextContainer,children:"Log In"}),Object(h.jsx)(I,{setAuth:t,customStyles:a})]})};P.a.defaults.baseURL="http://localhost:8080",P.a.defaults.headers.post["Content-Type"]="application/json";var z=function(){var e=Object(l.a)(o.a.mark((function e(t){var a,r,n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.registerUsername,r=t.registerPassword,e.prev=1,e.next=4,P.a.post("/api/auth/register",{username:a,password:r});case 4:return n=e.sent,e.abrupt("return",n.status);case 8:throw e.prev=8,e.t0=e.catch(1),e.t0.response;case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}(),E=a(308),M=a(309),B={registerUsername:"",registerPassword:""},_=Object(d.a)().shape({registerUsername:Object(d.b)().required("Username is a required field"),registerPassword:Object(d.b)().required("Password needs to be 6 characters or more")}),H=Object(j.a)({buttonWrapper:{padding:"20px 0px 20px 5px"},registerUsernameWrapper:{padding:"20px 0px"}}),J=function(){var e=r.useState(!1),t=Object(i.a)(e,2),a=t[0],n=t[1],s=r.useState(!1),c=Object(i.a)(s,2),d=c[0],p=c[1],b=r.useState(""),j=Object(i.a)(b,2),m=j[0],x=j[1],f=r.useState(!1),O=Object(i.a)(f,2),v=O[0],y=O[1],C=r.useState(""),w=Object(i.a)(C,2),S=w[0],N=w[1],U=r.useState(!1),P=Object(i.a)(U,2),k=P[0],L=P[1],R=H(),T=function(){var e=Object(l.a)(o.a.mark((function e(t,a){var r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a.resetForm,y(!1),N(""),p(!1),x(""),n(!0),!(t.registerPassword.length<6)){e.next=11;break}return y(!0),N("Please enter a password with a length of 6 or more"),n(!1),e.abrupt("return");case 11:return e.prev=11,e.next=14,z(t);case 14:L(!0),e.next=21;break;case 17:e.prev=17,e.t0=e.catch(11),"Username already exists."===(r=e.t0.data).message&&(p(!0),x(r.message));case 21:return e.prev=21,n(!1),e.finish(21);case 24:case"end":return e.stop()}}),e,null,[[11,17,21,24]])})));return function(t,a){return e.apply(this,arguments)}}(),F=function(){L(!1)};return Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)(u.b,{initialValues:B,validationSchema:_,onSubmit:T,enableReinitialize:!0,children:function(e){return Object(h.jsxs)(u.a,{onSubmit:e.handleSubmit,children:[Object(h.jsx)("div",{className:R.registerUsernameWrapper,children:Object(h.jsx)(W,{id:"registerUsername",name:"registerUsername",value:e.values.registerUsername,label:"Username",error:d,errorMessage:m,onChange:e.handleChange})}),Object(h.jsx)("div",{children:Object(h.jsx)(W,{id:"registerPassword",name:"registerPassword",type:"password",value:e.values.registerPassword,label:"Password",error:v,errorMessage:S,onChange:e.handleChange})}),Object(h.jsx)("div",{className:R.buttonWrapper,children:Object(h.jsx)(g,{isLoading:a,type:"submit",color:"success",children:"submit"})})]})}}),Object(h.jsx)(E.a,{open:k,autoHideDuration:6e3,onClose:F,children:Object(h.jsx)(M.a,{elevation:6,variant:"filled",onClose:F,sx:{width:"100%"},children:"User created successfully!"})})]})},V=Object(j.a)({registerFormPageContainer:{maxWidth:300,padding:20},registerTextContainer:{padding:"20px 0px 20px 5px",textAlign:"center"}}),$=function(){var e=V();return Object(h.jsxs)("div",{className:e.registerFormPageContainer,children:[Object(h.jsx)("div",{className:e.registerTextContainer,children:"Create an account"}),Object(h.jsx)(J,{})]})},G=a(301),K=a(302),Q=a(303),X=a(304),Y=a(305),Z=a(306),ee=a(300),te=Object(j.a)({tableContainer:{width:"100%",minWidth:375,height:"100%"}}),ae=function(e){var t=e.data,a=e.stateTaxDeduction,r=e.netSalary,n=function(e){return e.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")},s=te();return Object(h.jsx)(G.a,{classes:{root:s.tableContainer},component:ee.a,children:Object(h.jsxs)(K.a,{sx:{minWidth:375},children:[Object(h.jsx)(Q.a,{children:Object(h.jsxs)(X.a,{children:[Object(h.jsx)(Y.a,{children:"Employee"}),Object(h.jsx)(Y.a,{children:"Gross Salary"}),Object(h.jsx)(Y.a,{children:"CA Income Tax"}),Object(h.jsx)(Y.a,{children:"Net Salary"})]})}),Object(h.jsx)(Z.a,{children:t.map((function(e){return Object(h.jsxs)(X.a,{sx:{"&:last-child td, &:last-child th":{border:0}},children:[Object(h.jsxs)(Y.a,{component:"th",scope:"row",children:[e.first_name," ",e.last_name]}),Object(h.jsxs)(Y.a,{align:"left",children:["$",n(e.salary)]}),Object(h.jsxs)(Y.a,{align:"left",children:["$",n(a(e.salary).toFixed(2))]}),Object(h.jsxs)(Y.a,{align:"left",children:["$",n(r(e.salary).toFixed(2))]})]},e.first_name)}))})]})})};P.a.defaults.baseURL="http://localhost:8080",P.a.defaults.headers.post["Content-Type"]="application/json";var re=function(){var e=Object(l.a)(o.a.mark((function e(t){var a,r,n,s;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.firstname,r=t.lastname,n=t.salary,e.prev=1,e.next=4,P.a.post("/api/user/newemployee",{firstname:a,lastname:r,salary:n});case 4:return s=e.sent,e.abrupt("return",s);case 8:throw e.prev=8,e.t0=e.catch(1),e.t0.response;case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}();P.a.defaults.baseURL="http://localhost:8080";var ne=function(){var e=Object(l.a)(o.a.mark((function e(){var t,a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=localStorage.getItem("auth"),P.a.defaults.headers.common.Authorization="Bearer ".concat(t),e.prev=2,e.next=5,P.a.get("/api/user/employees");case 5:return a=e.sent,e.abrupt("return",a.data.employees);case 9:throw e.prev=9,e.t0=e.catch(2),e.t0.response;case 12:case"end":return e.stop()}}),e,null,[[2,9]])})));return function(){return e.apply(this,arguments)}}(),se={firstname:"",lastname:""},ie=Object(d.a)().shape({firstname:Object(d.b)().required("Firstname is a required field"),lastname:Object(d.b)().required("Lastname is a required field")}),ce=Object(j.a)({firstNameWrapper:{padding:"20px 0px"},lastNameWrapper:{paddingBottom:20},salaryWrapper:{paddingBottom:20},buttonWrapper:{display:"flex",justifyContent:"center",fontFamily:"Roboto"}}),oe=function(e){var t=e.setData,a=r.useState(!1),n=Object(i.a)(a,2),s=n[0],c=n[1],d=r.useState(!1),p=Object(i.a)(d,2),b=p[0],j=p[1],m=ce(),x=function(){j(!1)},f=function(){var e=Object(l.a)(o.a.mark((function e(a){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c(!0),e.prev=1,e.next=4,re(a);case 4:200===e.sent.status&&ne().then((function(e){return t(e)})),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),j(!0);case 11:return e.prev=11,c(!1),e.finish(11);case 14:case"end":return e.stop()}}),e,null,[[1,8,11,14]])})));return function(t){return e.apply(this,arguments)}}();return Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)(u.b,{initialValues:se,validationSchema:ie,onSubmit:f,enableReinitialize:!0,children:function(e){return Object(h.jsxs)(u.a,{onSubmit:e.handleSubmit,children:[Object(h.jsx)("div",{className:m.firstNameWrapper,children:Object(h.jsx)(W,{id:"firstname",name:"firstname",value:e.values.firstname,label:"First Name",onChange:e.handleChange})}),Object(h.jsx)("div",{className:m.lastNameWrapper,children:Object(h.jsx)(W,{id:"lastname",name:"lastname",value:e.values.lastname,label:"Last Name",onChange:e.handleChange})}),Object(h.jsx)("div",{className:m.salaryWrapper,children:Object(h.jsx)(W,{id:"salary",name:"salary",value:e.values.salary,label:"Gross Salary",onChange:e.handleChange})}),Object(h.jsx)("div",{className:m.buttonWrapper,children:Object(h.jsx)(g,{isLoading:s,type:"submit",children:"Add"})})]})}}),Object(h.jsx)(E.a,{open:b,autoHideDuration:6e3,onClose:x,anchorOrigin:{vertical:"bottom",horizontal:"right"},children:Object(h.jsx)(M.a,{elevation:6,variant:"filled",onClose:x,severity:"error",sx:{width:"100%"},children:"This employee already exists"})})]})},le=Object(j.a)({mainPageContainer:{display:"flex",flexDirection:"column",justifyContent:"center",width:"100%",height:"100vh",paddingTop:20},addEmployeeFormWrapper:{padding:"20px 0px",alignSelf:"center",display:"flex",flexDirection:"column",alignItems:"center",border:"1px solid black",boxShadow:"10px 10px 8px #888888",borderRadius:"20px",minWidth:360},addEmployeeTitleWrapper:{textAlign:"center",fontSize:14,fontFamily:"Roboto"},dataTableWrapper:{display:"flex",justifyContent:"center",padding:20,marginTop:20,height:"100%"}}),ue=function(){var e=r.useState([]),t=Object(i.a)(e,2),a=t[0],n=t[1],s=le();r.useEffect((function(){ne().then((function(e){return n(e)}))}),[]);var c=function(e){var t=Number(e);return t>0&&t<=8932?.01*e:t>=8933&&t<=21175?.02*e:t>=21176&&t<=33421?.04*e:t>=33422&&t<=46394?.06*e:t>=46395&&t<=58634?.08*e:t>=58635&&t<=299508?9.3/100*e:t>=299509&&t<=359407?10.3/100*e:void 0};return Object(h.jsxs)("div",{className:s.mainPageContainer,children:[Object(h.jsxs)("div",{className:s.addEmployeeFormWrapper,children:[Object(h.jsx)("div",{className:s.addEmployeeTitleWrapper,children:"Add new employee"}),Object(h.jsx)(oe,{setData:n})]}),Object(h.jsx)("div",{className:s.dataTableWrapper,children:Object(h.jsx)(ae,{data:a||[],stateTaxDeduction:c,netSalary:function(e){var t=Number(e)-c(e);return t}})})]})},de=a(307),pe=a(133);var be=Object(pe.a)({typography:{fontFamily:'"Roboto", "Helvetica", "Arial", sans-serif',fontSize:14,fontWeightLight:300,fontWeightRegular:400,fontWeightMedium:500}}),je=Object(j.a)({container:{display:"flex",justifyContent:"center",flexDirection:"column",alignItems:"center",alignSelf:"center",minWidth:375,height:"100vh",backgroundColor:"rgba(209, 214, 209, 0.87)"},mainPageContainer:{backgroundColor:"rgba(209, 214, 209, 0.87)",minWidth:375,height:"100%"},formContentContainer:{background:"rgb(255, 255, 255)",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",width:300,border:"1px solid black"},formSelectContainer:{padding:15}}),he=function(){var e=r.useState(!1),t=Object(i.a)(e,2),a=t[0],n=t[1],s=r.useState((function(){return L()})),c=Object(i.a)(s,2),o=c[0],l=c[1],u=je();return"null"!==o?Object(h.jsx)(de.a,{theme:be,children:Object(h.jsx)("div",{className:u.mainPageContainer,children:Object(h.jsx)(ue,{})})}):Object(h.jsx)("div",{className:"App",children:Object(h.jsx)("div",{className:u.container,children:Object(h.jsxs)("div",{className:u.formContentContainer,children:[a?Object(h.jsx)(D,{setAuth:l,customStyles:u}):Object(h.jsx)($,{}),Object(h.jsx)("div",{className:u.formSelectContainer,onClick:function(){n(!a)},style:{cursor:"pointer"},children:a?"Need to register? Click here":"Already registered? Click here to Log in"})]})})})};s.a.render(Object(h.jsx)(he,{}),document.getElementById("root"))}},[[266,1,2]]]);
//# sourceMappingURL=main.d4c3871a.chunk.js.map